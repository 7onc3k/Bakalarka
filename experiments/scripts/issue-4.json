{"body":"## Scope\n\nImplement `transition(instance, event)` for time-based escalation (happy path).\nImplement `createInstance(invoiceId, dueDate, config?)`.\n\n## Relevant AC from spec (#1)\n\n**Time-based transitions (happy path escalation):**\n\n- ISSUED → DUE_SOON: 7bd before due date + send_email(due_soon_reminder)\n- DUE_SOON → OVERDUE: due date reached\n- OVERDUE → GRACE: 3bd elapsed\n- GRACE → REMINDER_1: 7bd elapsed + send_email(first_reminder)\n- REMINDER_1 → REMINDER_2: 14bd elapsed + send_email(second_reminder)\n- REMINDER_2 → FINAL_NOTICE: 14bd elapsed + send_email(final_warning)\n- FINAL_NOTICE → SUSPENDED: 7bd elapsed + suspend_service() + send_email(service_suspended)\n- SUSPENDED → WRITTEN_OFF: 30bd elapsed + send_email(written_off_notice)\n\n**Configurable timeouts (default values):**\n\n- Default timeouts used when no custom config provided\n\n## Files\n\n- `src/transition.ts` — transition function\n- `src/create-instance.ts` — factory function\n- `src/config.ts` — DEFAULT_CONFIG\n- `tests/transition.test.ts` — tests\n- `tests/create-instance.test.ts` — tests\n\n## Dependencies\n\n- Depends on: #1 (types), #3 (business days calculator)\n\nRefs #1","labels":[],"number":4,"title":"feat(state-machine): implement core transitions — happy path"}
